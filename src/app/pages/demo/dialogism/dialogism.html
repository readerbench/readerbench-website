
<div>
    <app-header></app-header>
    <div class="content-wrapper">
        <app-carousel></app-carousel>
        <div class="container">
            <div class="row top-buffer">
                <app-demo-menu></app-demo-menu>
            </div>
        </div>
        <div class="container">
            <div class="section-header">
                <h1>Dialogism</h1>
            </div>
        </div>

        <div class="container inputs-container">
            


            <div class="row slideshow-container tabs-dialogism-container">
                <div class="col-md-12">
                    <div class="row tab">
                        <div class="col-xs-1 col-md-1"></div>
                        <div class="col-xs-11 col-md-11 tab-buttons">
                            <button class="tablinks" (click)="openTab('ReaderBench Dialogism Document')" id="button-ReaderBench Dialogism Document">
                                Dialogism Document
                            </button>
                            <button class="tablinks" (click)="openTab('ReaderBench Dialogism Chats')" id="button-ReaderBench Dialogism Chats">
                                Dialogism Chats
                            </button>
                        </div>
                    </div>
                    <div id="ReaderBench Dialogism Document" class="row tabcontent-dialogism">
                        <div class="row">
                            <div class="col-xs-2">
                                <label>Level</label>
                                <select class="form-control" [ngModel]="selectedLevel"
                                    (ngModelChange)="selectedLevel=$event">
                                    <option *ngFor="let level of levels" [ngValue]="level"
                                        data-toggle="tooltip" title="{{level.description}}">{{ level.description }}</option>
                                </select>
                            </div>
                        </div>
            
                        <div class="row">&nbsp;</div>
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="row">
                                    <div class="col-xs-12">
                                      <label>Text</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12">
                                        <textarea id="dialogism-document-text" class="form-control" rows="10" [(ngModel)]="inputText.text"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
            
                        <div class="row">
                            <div class="col-xs-1">
                              <button class="filter-button" (click)="processDialogism()" >Process</button>
                            </div>
                        </div>
            
                        <div class="row">&nbsp;</div>
                        <div class="row" *ngIf="voicesLoaded">
                            <div class="col-xs-12">
                                <form>
                                    <label class="checkbox-inline" *ngFor="let v of voices">
                                        <input type="checkbox" [(ngModel)]="v.selected" id="checkbox-{{v.name}}" (change)="reloadVoices()" [ngModelOptions]="{standalone: true}">{{v.name}}
                                    </label>
                                </form>
                            </div>
                        </div>
            
                        <div class="row">&nbsp;</div>
                        <div class="row" *ngIf="voicesLoaded">
                            <div class="col-xs-4">
                                <table class="table table-striped table-bordered mb-4" *ngFor="let paragraph of groupedSentences | keyvalue" id="voices-table-{{paragraph.key}}">
                                    <tr *ngFor="let t of paragraph.value | keyvalue">
                                      <td>{{t.value.id}}. <span [innerHTML]="t.value.safeHtml"></span></td>
                                    </tr>
                                    
                                </table>
                            </div>
            
                            <div id="svgContainer" style="margin: 10px 10px;" *ngIf="voicesLoaded">
                                <svg id="svg1" width="0" height="0" >
                                    <path *ngFor="let path of drawedPaths"
                                        id="{{path.id}}"
                                        d="M0 0"             
                                        stroke-width="0.1em"
                                        attr.stroke="{{path.color}}"
                                        style="fill:none;"/>
                                </svg>
                            </div>
            
                        </div>
                    </div>
    
                    <div id="ReaderBench Dialogism Chats" class="row tabcontent-dialogism">
                        <dialogism-chat></dialogism-chat>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
